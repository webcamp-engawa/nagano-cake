<div class="container">
	<h1>商品編集画面</h1>
	<div class="row">
		<%= form_for(@item, url: {controller: "items", action: "update"}) do |f| %>
		<div class="image col-lg-6 pt-5">
			<%= f.attachment_field :image, placeholder: "画像選択", class: "item-edit-form", id: :item_image %>
			<% if @item.image.present? %>
  				<%= attachment_image_tag @item, :image, :fill, 400, 300, id: :img_prev, size: "400x300"%>
			<% end %>
		</div>
		<div class="item_introduce col-lg-6 pt-5">
			<label class="name">商品名</label>
				<%= f.text_field :name, autofocus: true, id:"inputEmail", placeholder:"name" %><br>
			<label class="introduction">商品説明</label>
				<%= f.text_area :introduction, autofocus: true %><br>
			<label class="genre">ジャンル</label>
				<%= f.select :genre_id, [["ケーキ","1"],["プリン","2"],["焼き菓子","3"],["キャンディ","4"]], autofocus: true %><br>
			<label class="price">
				税抜き価格
				<%= f.text_field :price, autofocus: true %>円
			</label><br>
			<label class ="is_sold">販売ステータス</label>
				<%= f.select :is_sold, [["販売中","true"],["売り切れ","false"]], autofocus: true %><br>
			<%= f.submit "変更を保存" %>
		<% end %>
		</div>
	</div>
</div>

<script>
	$(function() {
    	function readURL(input) {
        	if (input.files && input.files[0]) {
        	var reader = new FileReader();
        	reader.onload = function (e) {
    	$('#img_prev').attr('src', e.target.result);
        	}
        	reader.readAsDataURL(input.files[0]);
        	}
    	}
    	$("#item_image").change(function(){
        	readURL(this);
    	});
 	 });
</script>




